<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manila Branch - TasteCheck</title>
    <link rel="stylesheet" href="Manila.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="logo">
            <h1>TasteCheck</h1>
        </div>
        <nav>
            <ul>
                <li><a href="Homepage.html">Home</a></li>
                <li><a href="Branches.html">Cafe</a></li>
                
                <li class="user-menu">
                    <a href="#" class="user-icon">
                        <img src="User.jpg" alt="User Icon" />
                    </a>
                    <ul class="dropdown" id="user-dropdown">
                        <!-- Content will be dynamically generated -->
                    </ul>
                </li>
            </ul>
        </nav>
    </header>

    <section class="branch-container">
        <div class="branch-description">
            <h2>Home Brew</h2>
            <p>
                Welcome to Home Brew Café is a coffee establishment located in Davao. It offers a variety of iced and hot coffee beverages, as well as classic snacks, allowing customers to enjoy their favorites in a cozy setting.
            </p>
            <p>
              Home Brew Café is a cozy and inviting spot where coffee lovers can enjoy expertly brewed drinks in a relaxed atmosphere. With a menu featuring rich espresso blends, handcrafted lattes, and delicious pastries, it’s the perfect place to unwind, catch up with friends, or get some work done. Whether you're a fan of bold black coffee or creamy specialty drinks, Home Brew Café offers something for everyone.
            </p>
        </div>

        <div class="slideshow-container">
            <div class="slide fade">
                <img src="Davao1.jpg" alt="Davao Branch Image 1">
            </div>
            <div class="slide fade">
                <img src="Davao2.jpg" alt="Davao Branch Image 2">
            </div>
            <div class="slide fade">
                <img src="Davao3.jpg" alt="Davao Branch Image 3">
            </div>
        </div>
    </section>

    <script>
        let slideIndex = 0;
        function showSlides() {
            let slides = document.getElementsByClassName("slide");
            for (let i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            slideIndex++;
            if (slideIndex > slides.length) { slideIndex = 1; }
            slides[slideIndex - 1].style.display = "block";
            setTimeout(showSlides, 3000);
        }
        showSlides();
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
          const userDropdown = document.getElementById("user-dropdown");
          const user = JSON.parse(localStorage.getItem("user"));
    
          if (user) {
              // If logged in, show profile and logout
              userDropdown.innerHTML = `
                  <li><a href="user.html">My Profile</a></li>
                  <li><a href="#" id="logout">Logout</a></li>
              `;
    
              // Logout function
              document.getElementById("logout").addEventListener("click", function () {
                  localStorage.removeItem("user");
                  window.location.href = "logout.html";
              });
          } else {
              // If not logged in (or after logout), show login and sign-up
              userDropdown.innerHTML = `
                  <li><a href="login.html">Login</a></li>
                  <li><a href="register.html">Sign Up</a></li>
              `;
          }
      });
    </script>

        <div class="review-system-container">
            <!-- Header -->
            <div class="review-system-header">
              <div class="title">Reviews for Davao Branch</div>
              <button class="review-btn">Write a review</button>
            </div>
      
            <!-- Overall Rating & Distribution -->
            <div class="review-summary">
              <div class="average-rating">
                <h2>4.3</h2>
                <p>12 total</p>
              </div>
              <div class="distribution">
                <div class="distribution-row">
                  <span>5-star</span>
                  <div class="bar-bg">
                    <div class="bar-fill" style="width: 84%;"></div>
                  </div>
                  <span>84%</span>
                </div>
                <div class="distribution-row">
                  <span>4-star</span>
                  <div class="bar-bg">
                    <div class="bar-fill" style="width: 8%;"></div>
                  </div>
                  <span>8%</span>
                </div>
                <div class="distribution-row">
                  <span>3-star</span>
                  <div class="bar-bg">
                    <div class="bar-fill" style="width: 0%;"></div>
                  </div>
                  <span>0%</span>
                </div>
                <div class="distribution-row">
                  <span>2-star</span>
                  <div class="bar-bg">
                    <div class="bar-fill" style="width: 0%;"></div>
                  </div>
                  <span>0%</span>
                </div>
                <div class="distribution-row">
                  <span>1-star</span>
                  <div class="bar-bg">
                    <div class="bar-fill" style="width: 8%;"></div>
                  </div>
                  <span>8%</span>
                </div>
              </div>
            </div>
      
            <!-- Filter -->
            <div class="filter">
              <label for="star-filter">Filter by star rating:</label>
              <select id="star-filter" name="star-filter">
                <option value="all">All</option>
                <option value="5">5 Star</option>
                <option value="4">4 Star</option>
                <option value="3">3 Star</option>
                <option value="2">2 Star</option>
                <option value="1">1 Star</option>
              </select>
            </div>
      
            <!-- Existing Reviews -->
            <div class="review-list">
              <div class="review-item" data-rating="5" data-owner="false">
                <h3>TE</h3>
                <div class="star-rating">★★★★★</div>
                <p>Best service ever! Thanks!</p>
                <small>Date of experience: October 10, 2022</small>
                
      
                <div class="helpful-actions">
                  <button class="helpful-btn">Helpful</button>
                  <button class="unhelpful-btn">Unhelpful</button>
                  <span class="helpful-count">0 found this helpful</span>
                </div>
              </div>
      
              <div class="review-item" data-rating="4" data-owner="false">
                <h3>DK</h3>
                <div class="star-rating">★★★★☆</div>
                <p>Really good, but there's some room for improvement.</p>
                <small>Date of experience: January 15, 2023</small>
      
                <div class="helpful-actions">
                  <button class="helpful-btn">Helpful</button>
                  <button class="unhelpful-btn">Unhelpful</button>
                  <span class="helpful-count">0 found this helpful</span>
                </div>
              </div>
      
              <div class="review-item" data-rating="1" data-owner="true">
                <h3>JL</h3>
                <div class="star-rating">★☆☆☆☆</div>
                <p>Not satisfied at all.</p>
                <small>Date of experience: March 2, 2023</small>
      
                <div class="helpful-actions">
                  <button class="helpful-btn">Helpful</button>
                  <button class="unhelpful-btn">Unhelpful</button>
                  <span class="helpful-count">0 found this helpful</span>
                </div>

                <div class="review-item" data-rating="5" data-owner="false">
                    <h3>Sarah L.</h3>
                    <div class="star-rating">★★★★★</div>
                    <p>The ambiance is amazing! The staff were incredibly friendly, and the coffee was absolutely perfect. I had the best time here and will definitely be returning!</p>
                    <small>Date of experience: February 5, 2025</small>
                  
                    <div class="helpful-actions">
                      <button class="helpful-btn">Helpful</button>
                      <button class="unhelpful-btn">Unhelpful</button>
                      <span class="helpful-count">0 found this helpful</span>
                    </div>
                  </div>
                  
      
                <div class="review-actions">
                  <button class="edit-btn">Edit</button>
                  <button class="delete-btn">Delete</button>
                </div>
              </div>
            </div>
      
            <!-- Create Review Form -->
            <div class="create-review">
              <h2>Write a Review</h2>
              <form id="create-review-form">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required />
      
                <label>Your Rating:</label>
                <div class="rating-input">
                  <input type="radio" id="star5" name="rating" value="5" />
                  <label for="star5" title="5 stars">★</label>
      
                  <input type="radio" id="star4" name="rating" value="4" />
                  <label for="star4" title="4 stars">★</label>
      
                  <input type="radio" id="star3" name="rating" value="3" />
                  <label for="star3" title="3 stars">★</label>
      
                  <input type="radio" id="star2" name="rating" value="2" />
                  <label for="star2" title="2 stars">★</label>
      
                  <input type="radio" id="star1" name="rating" value="1" />
                  <label for="star1" title="1 star">★</label>
                </div>
      
                <label for="review-text">Review:</label>
                <textarea id="review-text" name="review-text" rows="4" required></textarea>
      
                <label for="review-media">Upload Image/Video:</label>
                <input
                  type="file"
                  id="review-media"
                  name="review-media"
                  accept="image/*,video/*"
                  multiple
                  class="review-media"
                />
      
                <button type="submit">Submit</button>
              </form>
            </div>
          </div>
      
          <script>
            const filterSelect = document.getElementById('star-filter');
            const reviewItems = document.querySelectorAll('.review-item');
      
            filterSelect.addEventListener('change', function () {
              const selectedValue = this.value;
              reviewItems.forEach((item) => {
                const itemRating = item.getAttribute('data-rating');
                if (selectedValue === 'all') {
                  item.style.display = 'block';
                } else {
                  if (itemRating === selectedValue) {
                    item.style.display = 'block';
                  } else {
                    item.style.display = 'none';
                  }
                }
              });
            });

            document.querySelectorAll('.review-item').forEach((review) => {
              const helpfulBtn = review.querySelector('.helpful-btn');
              const unhelpfulBtn = review.querySelector('.unhelpful-btn');
              const helpfulCount = review.querySelector('.helpful-count');
      
              helpfulBtn.addEventListener('click', function () {
                helpfulCount.textContent = parseInt(helpfulCount.textContent) + 1 + ' found this helpful';
              });
      
              unhelpfulBtn.addEventListener('click', function () {
                helpfulCount.textContent = parseInt(helpfulCount.textContent) - 1 + ' found this helpful';
              });
            });
      
            document
              .getElementById('create-review-form')
              .addEventListener('submit', function (event) {
                event.preventDefault();
                const name = document.getElementById('name').value;
                const rating = document.querySelector('input[name="rating"]:checked').value;
                const reviewText = document.getElementById('review-text').value;
                const media = document.getElementById('review-media').files;
                console.log('Review submitted:', { name, rating, reviewText, media });
              });
          </script>
</body>
</html>
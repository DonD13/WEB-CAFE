<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tagaytay Branch - Café Delight</title>
    <link rel="stylesheet" href="Manila.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="logo">
            <h1>Café Delight</h1>
        </div>
        <nav>
            <ul>
                <li><a href="Homepage.html">Home</a></li>
                <li><a href="Branches.html">Branches</a></li>
                <li><a href="#">Login</a></li>
                <li><a href="#">Sign Up</a></li>
            </ul>
        </nav>
    </header>

    <section class="branch-container">
        <div class="branch-description">
            <h2>Tagaytay Branch</h2>
            <p>
                Welcome to Café Delight's Tagaytay branch! Enjoy the breathtaking view of Taal Volcano while sipping on your favorite coffee. Our café provides a peaceful retreat where you can relax with good company and indulge in delicious pastries and coffee blends.
            </p>
            <p>
                Whether you're looking for a tranquil escape or a place to catch up with friends, the Tagaytay branch offers the perfect ambiance to make every visit special.
            </p>
        </div>

        <div class="slideshow-container">
            <div class="slide fade">
                <img src="Tagaytay3.jpg" alt="Tagaytay Branch Image 1">
            </div>
            <div class="slide fade">
                <img src="Tagaytay1.jpg" alt="Tagaytay Branch Image 2">
            </div>
            <div class="slide fade">
                <img src="Tagaytay2.jpg" alt="Tagaytay Branch Image 3">
            </div>
        </div>
    </section>

    <script>
        let slideIndex = 0;
        function showSlides() {
            let slides = document.getElementsByClassName("slide");
            for (let i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            slideIndex++;
            if (slideIndex > slides.length) { slideIndex = 1; }
            slides[slideIndex - 1].style.display = "block";
            setTimeout(showSlides, 3000);
        }
        showSlides();
    </script>

    <!-- ========== REVIEW SYSTEM HTML ========== -->
    <div class="review-system-container">
        <!-- Header -->
        <div class="review-system-header">
            <div class="title">Reviews for Tagaytay Branch</div>
            <button class="review-btn">Write a review</button>
        </div>

        <!-- Overall Rating & Distribution -->
        <div class="review-summary">
            <div class="average-rating">
                <h2>4.3</h2>
                <p>12 total</p>
            </div>
            <div class="distribution">
                <div class="distribution-row">
                    <span>5-star</span>
                    <div class="bar-bg">
                        <div class="bar-fill" style="width: 84%;"></div>
                    </div>
                    <span>84%</span>
                </div>
                <div class="distribution-row">
                    <span>4-star</span>
                    <div class="bar-bg">
                        <div class="bar-fill" style="width: 8%;"></div>
                    </div>
                    <span>8%</span>
                </div>
                <div class="distribution-row">
                    <span>3-star</span>
                    <div class="bar-bg">
                        <div class="bar-fill" style="width: 0%;"></div>
                    </div>
                    <span>0%</span>
                </div>
                <div class="distribution-row">
                    <span>2-star</span>
                    <div class="bar-bg">
                        <div class="bar-fill" style="width: 0%;"></div>
                    </div>
                    <span>0%</span>
                </div>
                <div class="distribution-row">
                    <span>1-star</span>
                    <div class="bar-bg">
                        <div class="bar-fill" style="width: 8%;"></div>
                    </div>
                    <span>8%</span>
                </div>
            </div>
        </div>

        <!-- Filter -->
        <div class="filter">
            <label for="star-filter">Filter by star rating:</label>
            <select id="star-filter" name="star-filter">
                <option value="all">All</option>
                <option value="5">5 Star</option>
                <option value="4">4 Star</option>
                <option value="3">3 Star</option>
                <option value="2">2 Star</option>
                <option value="1">1 Star</option>
            </select>
        </div>

        <!-- Existing Reviews -->
        <div class="review-list">
            <!-- data-owner="false" means no edit/delete buttons -->
            <div class="review-item" data-rating="5" data-owner="false">
                <h3>TE</h3>
                <div class="star-rating">★★★★★</div>
                <p>Best service ever! Thanks!</p>
                <small>Date of experience: October 10, 2022</small>

                <div class="helpful-actions">
                    <button class="helpful-btn">Helpful</button>
                    <button class="unhelpful-btn">Unhelpful</button>
                    <span class="helpful-count">0 found this helpful</span>
                </div>
            </div>

            <div class="review-item" data-rating="4" data-owner="false">
                <h3>DK</h3>
                <div class="star-rating">★★★★☆</div>
                <p>Really good, but there's some room for improvement.</p>
                <small>Date of experience: January 15, 2023</small>

                <div class="helpful-actions">
                    <button class="helpful-btn">Helpful</button>
                    <button class="unhelpful-btn">Unhelpful</button>
                    <span class="helpful-count">0 found this helpful</span>
                </div>
            </div>

            <!-- data-owner="true" shows edit/delete buttons -->
            <div class="review-item" data-rating="1" data-owner="true">
                <h3>JL</h3>
                <div class="star-rating">★☆☆☆☆</div>
                <p>Not satisfied at all.</p>
                <small>Date of experience: March 2, 2023</small>

                <div class="helpful-actions">
                    <button class="helpful-btn">Helpful</button>
                    <button class="unhelpful-btn">Unhelpful</button>
                    <span class="helpful-count">0 found this helpful</span>
                </div>

                <div class="review-actions">
                    <button class="edit-btn">Edit</button>
                    <button class="delete-btn">Delete</button>
                </div>
            </div>
        </div>

        <!-- Create a Review Form -->
        <div class="create-review">
            <h2>Write a Review</h2>
            <form id="create-review-form">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required />

                <label>Your Rating:</label>
                <div class="rating-input">
                    <input type="radio" id="star5" name="rating" value="5" />
                    <label for="star5" title="5 stars">★</label>

                    <input type="radio" id="star4" name="rating" value="4" />
                    <label for="star4" title="4 stars">★</label>

                    <input type="radio" id="star3" name="rating" value="3" />
                    <label for="star3" title="3 stars">★</label>

                    <input type="radio" id="star2" name="rating" value="2" />
                    <label for="star2" title="2 stars">★</label>

                    <input type="radio" id="star1" name="rating" value="1" />
                    <label for="star1" title="1 star">★</label>
                </div>

                <label for="review-text">Review:</label>
                <textarea id="review-text" name="review-text" rows="4" required></textarea>

                <label for="review-media">Upload Image/Video:</label>
                <input
                  type="file"
                  id="review-media"
                  name="review-media"
                  accept="image/*,video/*"
                  multiple
                  class="review-media"
                />

                <button type="submit">Submit</button>
            </form>
        </div>
    </div>

    <!-- ========== REVIEW SYSTEM SCRIPT ========== -->
    <script>
        // ========== FILTER BY STAR RATING ========== 
        const filterSelect = document.getElementById('star-filter');
        const reviewItems = document.querySelectorAll('.review-item');

        filterSelect.addEventListener('change', function () {
            const selectedValue = this.value;
            reviewItems.forEach((item) => {
                const itemRating = item.getAttribute('data-rating');
                if (selectedValue === 'all') {
                    item.style.display = 'block';
                } else {
                    if (itemRating === selectedValue) {
                        item.style.display = 'block';
                    } else {
                        item.style.display = 'none';
                    }
                }
            });
        });

        // ========== HELPFUL / UNHELPFUL ========== 
        document.querySelectorAll('.review-item').forEach((review) => {
            const helpfulBtn = review.querySelector('.helpful-btn');
            const unhelpfulBtn = review.querySelector('.unhelpful-btn');
            const helpfulCount = review.querySelector('.helpful-count');

            helpfulBtn.addEventListener('click', () => {
                helpfulCount.textContent = parseInt(helpfulCount.textContent) + 1 + ' found this helpful';
            });

            unhelpfulBtn.addEventListener('click', () => {
                helpfulCount.textContent = parseInt(helpfulCount.textContent) - 1 + ' found this helpful';
            });
        });

        // ========== EDIT / DELETE ========== 
        document.querySelectorAll('.edit-btn').forEach((editBtn) => {
            editBtn.addEventListener('click', () => {
                const reviewItem = editBtn.closest('.review-item');
                const reviewText = reviewItem.querySelector('p');
                const newText = prompt('Edit your review:', reviewText.textContent);
                if (newText !== null) {
                    reviewText.textContent = newText;
                }
            });
        });

        document.querySelectorAll('.delete-btn').forEach((deleteBtn) => {
            deleteBtn.addEventListener('click', () => {
                const reviewItem = deleteBtn.closest('.review-item');
                reviewItem.remove();
            });
        });
    </script>
</body>
</html>
